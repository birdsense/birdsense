<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BirdSense - AI Bird Identification</title>
    <meta name="description" content="AI-powered bird species classification API for Home Assistant">
    <link rel="icon" type="image/png" href="logo.png">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            min-height: 100vh;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 48px 24px;
        }
        
        header {
            text-align: center;
            margin-bottom: 56px;
        }
        
        .logo {
            width: 220px;
            margin-bottom: 20px;
        }
        
        .tagline {
            color: #94a3b8;
            font-size: 1.25rem;
            font-style: italic;
            opacity: 0.9;
        }
        
        h2 {
            font-size: 1.75rem;
            font-weight: 700;
            margin: 48px 0 24px;
            color: #e2e8f0;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        h2::before {
            content: '';
            width: 4px;
            height: 28px;
            background: linear-gradient(180deg, #6366f1, #8b5cf6);
            border-radius: 2px;
        }
        
        .intro {
            text-align: center;
            max-width: 700px;
            margin: 0 auto 48px;
            color: #94a3b8;
            font-size: 1.1rem;
        }
        
        .quick-start {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 16px;
            padding: 32px;
            margin-bottom: 32px;
        }
        
        .quick-start h3 {
            font-size: 1.2rem;
            color: #a5b4fc;
            margin-bottom: 16px;
        }
        
        .quick-start code {
            display: block;
            background: rgba(15, 23, 42, 0.9);
            padding: 20px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', 'Monaco', monospace;
            font-size: 1rem;
            margin-bottom: 20px;
            overflow-x: auto;
            line-height: 1.7;
        }
        
        .code-wrapper {
            position: relative;
            margin-bottom: 20px;
        }
        
        .code-wrapper code {
            display: block;
            background: rgba(15, 23, 42, 0.9);
            padding: 20px;
            padding-right: 60px;
            border-radius: 10px;
            font-family: 'JetBrains Mono', 'Monaco', monospace;
            font-size: 1rem;
            overflow-x: auto;
            line-height: 1.7;
        }
        
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: transparent;
            border: none;
            border-radius: 6px;
            padding: 4px;
            cursor: pointer;
            color: #8b949e;
            line-height: 0;
            transition: all 0.1s ease;
        }

        .copy-btn:hover {
            color: #c9d1d9;
        }

        .copy-btn.copied {
            color: #3fb950;
        }

        .copy-btn svg {
            width: 16px;
            height: 16px;
        }
        
        .quick-start code .function { color: #fbbf24; }
        .quick-start code .url { color: #fca5a5; }
        .quick-start code .keyword { color: #c4b5fd; }
        
                
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 32px;
        }
        
        .feature-card {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.15);
            border-radius: 14px;
            padding: 28px;
            transition: all 0.3s ease;
        }
        
        .feature-card:hover {
            border-color: rgba(99, 102, 241, 0.35);
            transform: translateY(-4px);
            background: rgba(30, 41, 59, 0.8);
        }
        
        .feature-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 16px;
            color: #a5b4fc;
        }

        .feature-icon svg {
            width: 100%;
            height: 100%;
        }
        
        .feature-card h3 {
            font-size: 1.2rem;
            color: #e2e8f0;
            margin-bottom: 10px;
        }
        
        .feature-card p {
            color: #94a3b8;
            font-size: 0.95rem;
            line-height: 1.6;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(139, 92, 246, 0.1));
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 14px;
            padding: 24px;
            margin: 24px 0;
        }
        
        .highlight-box h3 {
            color: #a5b4fc;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }
        
        .highlight-box p {
            color: #94a3b8;
        }
        
        .code-block {
            background: rgba(15, 23, 42, 0.95);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 12px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }
        
        .code-block h3 {
            background: rgba(99, 102, 241, 0.15);
            padding: 16px 20px;
            margin: 0;
            color: #a5b4fc;
            font-size: 1rem;
            border-bottom: 1px solid rgba(99, 102, 241, 0.15);
        }
        
        .code-block pre {
            margin: 0;
            padding: 20px;
            padding-right: 60px;
            overflow-x: auto;
            font-size: 0.9rem;
            position: relative;
        }
        
        .code-block code {
            font-family: 'JetBrains Mono', 'Monaco', monospace;
            color: #e2e8f0;
            line-height: 1.6;
        }
        
        .code-block code .comment { color: #64748b; font-style: italic; }
        .code-block code .string { color: #86efac; }
        .code-block code .number { color: #93c5fd; }
        .code-block code .property { color: #fde047; }
        .code-block code .punctuation { color: #94a3b8; }
        
        .config-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .config-table th,
        .config-table td {
            text-align: left;
            padding: 14px 18px;
            border: 1px solid rgba(99, 102, 241, 0.15);
        }
        
        .config-table th {
            background: rgba(99, 102, 241, 0.15);
            color: #a5b4fc;
            font-weight: 600;
        }
        
        .config-table td {
            background: rgba(30, 41, 59, 0.4);
            color: #94a3b8;
        }
        
        .config-table code {
            background: rgba(15, 23, 42, 0.6);
            padding: 3px 10px;
            border-radius: 5px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: #e2e8f0;
        }
        
        .stats-row {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 32px 0;
        }
        
        .stat-box {
            background: rgba(30, 41, 59, 0.6);
            border: 1px solid rgba(99, 102, 241, 0.15);
            border-radius: 12px;
            padding: 24px;
            text-align: center;
        }
        
        .stat-box strong {
            display: block;
            font-size: 2rem;
            color: #a5b4fc;
            margin-bottom: 6px;
        }
        
        .stat-box span {
            color: #94a3b8;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .cta {
            text-align: center;
            padding: 48px 0 24px;
        }
        
        .btn {
            display: inline-block;
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: #fff;
            padding: 16px 40px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.25s ease;
            box-shadow: 0 4px 16px rgba(99, 102, 241, 0.35);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 24px rgba(99, 102, 241, 0.45);
        }
        
        @media (max-width: 640px) {
            .container { padding: 32px 20px; }
            .logo { width: 160px; }
            h2 { font-size: 1.4rem; }
            .stats-row { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <img src="logo.png" alt="BirdSense" class="logo">
            <p class="tagline">AI-powered bird species classification API</p>
        </header>

        <p class="intro">
            Transform your bird feeder into a smart detection system. 
            Identify 707 European species with ~90% accuracy. 
            Built for Home Assistant and privacy-conscious bird enthusiasts.
        </p>

        <div class="stats-row">
            <div class="stat-box">
                <strong>707</strong>
                <span>European Species</span>
            </div>
            <div class="stat-box">
                <strong>~90%</strong>
                <span>Accuracy</span>
            </div>
            <div class="stat-box">
                <strong>24/7</strong>
                <span>Monitoring</span>
            </div>
        </div>

        <h2>Get Started</h2>
        <div class="quick-start">
            <h3>Run with Docker Compose</h3>
            <div class="code-wrapper">
                <code><span class="function">git</span> <span class="keyword">clone</span> <span class="url">https://github.com/birdsense/birdsense.git</span>
<span class="function">cd</span> birdsense
<span class="keyword">docker compose</span> <span class="function">up</span> <span class="function">-d</span></code>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
            <p style="color: #94a3b8; font-size: 0.95rem;">Once running, access the dashboard and API documentation locally.</p>
        </div>

        <h2>Features</h2>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M12 8V4H8"/><rect width="16" height="12" x="4" y="8" rx="2"/><path d="M2 14h2"/><path d="M20 14h2"/><path d="M15 13v2"/><path d="M9 13v2"/></svg></div>
                <h3>AI-Powered Classification</h3>
                <p>State-of-the-art ConvNeXt V2 model trained on thousands of bird images for accurate species identification.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg></div>
                <h3>Home Assistant Ready</h3>
                <p>Seamless integration with your smart home via REST API or MQTT. Get notifications when birds are detected.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></svg></div>
                <h3>Beautiful Dashboard</h3>
                <p>View real-time statistics, historical data, and detection charts. Dark mode included for round-the-clock viewing.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9"/><path d="M10.3 21a1.94 1.94 0 0 0 3.4 0"/></svg></div>
                <h3>Smart Notifications</h3>
                <p>Configure alerts for specific species or rarity levels. Never miss a rare visitor at your feeder.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg></div>
                <h3>Privacy First</h3>
                <p>All processing happens locally on your device. Your bird data never leaves your home network.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="2"/><path d="M6 10h2v4H6z"/><path d="M11 10h2v4h-2z"/><path d="M16 10h2v4h-2z"/></svg></div>
                <h3>Docker Deployment</h3>
                <p>One-command setup with Docker Compose. Runs on Raspberry Pi, NAS, or any Linux server.</p>
            </div>
        </div>

        <h2>API Usage</h2>
        <div class="code-block">
            <h3>File Upload</h3>
            <div class="code-wrapper">
                <pre><code><span class="comment"># Classify a bird image (file upload)</span>
<span class="function">curl</span> <span class="property">-X</span> <span class="keyword">POST</span> <span class="url">http://localhost:5001/api/classify</span> \
  <span class="property">-F</span> <span class="string">"image=@bird.jpg"</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>
        <div class="code-block">
            <h3>From URL (e.g., BirdBuddy)</h3>
            <div class="code-wrapper">
                <pre><code><span class="comment"># Classify a bird image from URL</span>
<span class="function">curl</span> <span class="property">-X</span> <span class="keyword">POST</span> <span class="url">http://localhost:5001/api/classify</span> \
  <span class="property">-d</span> <span class="string">"image_url=https://example.com/bird.jpg"</span> \
  <span class="property">-d</span> <span class="string">"camera=birdbuddy"</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>
        <div class="code-block">
            <h3>Response</h3>
            <div class="code-wrapper">
                <pre><code><span class="punctuation">{</span>
  <span class="property">"species_en"</span>: <span class="string">"European Robin"</span>,
  <span class="property">"species_nl"</span>: <span class="string">"Roodborst"</span>,
  <span class="property">"confidence"</span>: <span class="number">92</span>
<span class="punctuation">}</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>

        <h2>MQTT</h2>
        <p style="color: #94a3b8; margin-bottom: 24px;">BirdSense publishes bird detections to your MQTT broker. Connect to Home Assistant's Mosquitto or any other broker.</p>

        <div class="features-grid" style="margin-bottom: 32px;">
            <div class="feature-card">
                <h3>üì° Topics</h3>
                <p><code>birdsense/detections</code> - Published when a bird is detected</p>
            </div>
            <div class="feature-card">
                <h3>üîî Real-time</h3>
                <p>Instant notifications and automation triggers on bird detection</p>
            </div>
            <div class="feature-card">
                <h3>üñºÔ∏è Images</h3>
                <p>Payload includes image_path for integration with cameras</p>
            </div>
        </div>
        
        <div class="code-block">
            <h3>Topic</h3>
            <div class="code-wrapper">
                <pre><code>birdsense/detections</code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>
        
        <div class="code-block">
            <h3>Payload</h3>
            <div class="code-wrapper">
                <pre><code><span class="punctuation">{</span>
  <span class="property">"species_en"</span>: <span class="string">"Great Tit"</span>,
  <span class="property">"species_nl"</span>: <span class="string">"Koolmees"</span>,
  <span class="property">"species"</span>: <span class="string">"Koolmees (85%)"</span>,
  <span class="property">"confidence"</span>: <span class="number">85</span>,
  <span class="property">"camera"</span>: <span class="string">"garden"</span>,
  <span class="property">"timestamp"</span>: <span class="number">1706000000</span>,
  <span class="property">"image_path"</span>: <span class="string">"/data/images/great_tit_1737550000.jpg"</span>,
  <span class="property">"top_predictions"</span>: <span class="punctuation">[</span>
    <span class="punctuation">{</span><span class="property">"species_en"</span>: <span class="string">"Great Tit"</span>, <span class="property">"confidence"</span>: <span class="number">85</span><span class="punctuation">}</span>,
    <span class="punctuation">{</span><span class="property">"species_en"</span>: <span class="string">"Blue Tit"</span>, <span class="property">"confidence"</span>: <span class="number">12</span><span class="punctuation">}</span>
  <span class="punctuation">]</span>
<span class="punctuation">}</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>
        
        <h2>Home Assistant</h2>
        <p style="color: #94a3b8; margin-bottom: 24px;">Integrate BirdSense with your smart home using MQTT sensors or REST commands.</p>

        <div class="code-block">
            <h3>MQTT Sensors</h3>
            <div class="code-wrapper">
                <pre><code><span class="comment"># configuration.yaml</span>
<span class="property">mqtt</span>:
  <span class="property">sensor</span>:
    - <span class="property">name</span>: <span class="string">"Last Bird Detected"</span>
      <span class="property">state_topic</span>: <span class="string">"birdsense/detections"</span>
      <span class="property">value_template</span>: <span class="string">"{{ value_json.species_en }}"</span>
      <span class="property">json_attributes_topic</span>: <span class="string">"birdsense/detections"</span>
      
    - <span class="property">name</span>: <span class="string">"Bird Confidence"</span>
      <span class="property">state_topic</span>: <span class="string">"birdsense/detections"</span>
      <span class="property">value_template</span>: <span class="string">"{{ value_json.confidence }}%"</span>
      <span class="property">json_attributes_topic</span>: <span class="string">"birdsense/detections"</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>

        <div class="code-block">
            <h3>Automation</h3>
            <div class="code-wrapper">
                <pre><code><span class="comment"># automations.yaml</span>
<span class="property">automation</span>:
  - <span class="property">alias</span>: <span class="string">"Bird notification"</span>
    <span class="property">trigger</span>:
      <span class="property">platform</span>: <span class="keyword">mqtt</span>
      <span class="property">topic</span>: <span class="string">"birdsense/detections"</span>
    <span class="property">condition</span>:
      - <span class="property">condition</span>: <span class="keyword">template</span>
        <span class="property">value_template</span>: <span class="string">"{{ trigger.payload_json.confidence | int >= 80 }}"</span>
    <span class="property">action</span>:
      - <span class="property">service</span>: <span class="keyword">notify.mobile_app</span>
        <span class="property">data</span>:
          <span class="property">title</span>: <span class="string">"üê¶ Bird detected!"</span>
          <span class="property">message</span>: <span class="string">"{{ trigger.payload_json.species_nl }} ({{ trigger.payload_json.confidence }}%)"</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>

        <div class="code-block">
            <h3>REST Command (for image URLs)</h3>
            <div class="code-wrapper">
                <pre><code><span class="comment"># configuration.yaml - classify images from URL (e.g., BirdBuddy)</span>
<span class="property">rest_command</span>:
  <span class="property">classify_bird</span>:
    <span class="property">url</span>: <span class="string">"http://birdsense:5001/api/classify"</span>
    <span class="property">method</span>: <span class="keyword">POST</span>
    <span class="property">content_type</span>: <span class="string">"application/x-www-form-urlencoded"</span>
    <span class="property">payload</span>: <span class="string">"image_url={{ image_url }}&camera={{ camera }}&lang=nl"</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>

        <div class="code-block">
            <h3>Shell Command (for local files)</h3>
            <div class="code-wrapper">
                <pre><code><span class="comment"># configuration.yaml - classify local images</span>
<span class="property">shell_command</span>:
  <span class="property">classify_bird</span>: <span class="string">'curl -s -X POST http://birdsense:5001/api/classify -F "image=@/config/www/snapshot.jpg"'</span></code></pre>
                <button class="copy-btn" onclick="copyCode(this)"><svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg></button>
            </div>
        </div>

        <h2>Configuration</h2>
        <p style="color: #94a3b8; margin-bottom: 16px;">Set environment variables in <code>.env</code>:</p>
        <table class="config-table">
            <thead>
                <tr>
                    <th>Variable</th>
                    <th>Description</th>
                    <th>Default</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>MQTT_BROKER</code></td>
                    <td>MQTT broker hostname</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>MQTT_PORT</code></td>
                    <td>MQTT broker port</td>
                    <td><code>1883</code></td>
                </tr>
                <tr>
                    <td><code>MQTT_USERNAME</code></td>
                    <td>MQTT username</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>MQTT_PASSWORD</code></td>
                    <td>MQTT password</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td><code>MIN_CONFIDENCE</code></td>
                    <td>Minimum confidence %</td>
                    <td><code>60</code></td>
                </tr>
                <tr>
                    <td><code>SAVE_IMAGES</code></td>
                    <td>Save classified images</td>
                    <td><code>true</code></td>
                </tr>
                <tr>
                    <td><code>IMAGE_DIR</code></td>
                    <td>Directory for saved images</td>
                    <td><code>/data/images</code></td>
                </tr>
                <tr>
                    <td><code>MAX_IMAGE_SIZE</code></td>
                    <td>Max image size in bytes</td>
                    <td><code>10485760</code></td>
                </tr>
            </tbody>
        </table>

        <div class="cta">
            <a href="https://github.com/birdsense/birdsense" class="btn">View on GitHub</a>
        </div>
    </div>

    <script>
        const copyIcon = '<svg viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"/><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"/></svg>';
        const checkIcon = '<svg viewBox="0 0 16 16" fill="currentColor"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.75.75 0 0 1 1.06-1.06L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"/></svg>';

        async function copyCode(btn) {
            const wrapper = btn.parentElement;
            const code = wrapper.querySelector('code') || wrapper.querySelector('pre code');
            const text = code.textContent;

            try {
                await navigator.clipboard.writeText(text);
                btn.classList.add('copied');
                btn.innerHTML = checkIcon;

                setTimeout(() => {
                    btn.classList.remove('copied');
                    btn.innerHTML = copyIcon;
                }, 2000);
            } catch (err) {
                console.error('Failed to copy:', err);
            }
        }
    </script>
</body>
